{"uid":"2dcecb18bad1b288","name":"Archive the assessment attribute","fullName":"tests.unit.settings.sampling_location_assessment.test_sampling_location_assessment.TestSamplingLocationAssessment#test_archive_assessment_attribute","historyId":"a31efabe3088c7449fdea8b7d59c5f4c","time":{"start":1733073925656,"stop":1733073926687,"duration":1031},"description":"This method is used to archive the assessment attribute in sampling location assessment","descriptionHtml":"<p>This method is used to archive the assessment attribute in sampling location assessment</p>\n","status":"failed","statusMessage":"AssertionError: {\"error\":{\"errName\":\"AttributeInUse\",\"where\":{\"domain\":\"LocationAttribute\",\"action\":\"Archive\"},\"name\":\"AttributeInUse\",\"message\":\"Cannot archive Attribute as it is being used in a Sampling Policy\",\"action\":\"Archive\",\"domain\":\"LocationAttribute\"}}","statusTrace":"self = <test_sampling_location_assessment.TestSamplingLocationAssessment object at 0x000002077B0DC3D0>, data = None\n\n    @allure.title(\"Archive the assessment attribute\")\n    @allure.description(\"This method is used to archive the assessment attribute in sampling location assessment\")\n    @allure.link(\"https://app.clickup.com/t/85zrjm4y7\")\n    @pytest.mark.archive_assessment_attribute\n    def test_archive_assessment_attribute(self, data=None):\n        global ASSESSMENT_ATTRIBUTE_ID\n        assess_atr = self.test_get_assessment_attribute()[\"response\"]\n        assess_atr = json.loads(assess_atr)\n        ASSESSMENT_ATTRIBUTE_ID = assess_atr[\"result\"]\n        attribute_id = self.get_attribute_id(data)\n        payload = archive_payload()\n        if attribute_id is not None:\n            url = const.ATTRIBUTE + str(attribute_id)\n            response = Request.delete(url, data=payload, use_facility_url=True)\n>           status_200(response)\n\ntests\\unit\\settings\\sampling_location_assessment\\test_sampling_location_assessment.py:114: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nresponse = <Response [400]>\n\n    def status_200(response):\n>       assert response.status_code == 200, response.text\nE       AssertionError: {\"error\":{\"errName\":\"AttributeInUse\",\"where\":{\"domain\":\"LocationAttribute\",\"action\":\"Archive\"},\"name\":\"AttributeInUse\",\"message\":\"Cannot archive Attribute as it is being used in a Sampling Policy\",\"action\":\"Archive\",\"domain\":\"LocationAttribute\"}}\n\nutil\\validate_response.py:3: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login","time":{"start":1733073925102,"stop":1733073925374,"duration":272},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false},{"name":"get_facility","time":{"start":1733073925374,"stop":1733073925562,"duration":188},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentStep":false,"stepsCount":0,"hasContent":false,"attachmentsCount":0,"shouldDisplayMessage":false}],"afterStages":[],"labels":[{"name":"tag","value":"archive_assessment_attribute"},{"name":"tag","value":"sampling_location_assessment"},{"name":"tag","value":"unit"},{"name":"parentSuite","value":"tests.unit.settings.sampling_location_assessment"},{"name":"suite","value":"test_sampling_location_assessment"},{"name":"subSuite","value":"TestSamplingLocationAssessment"},{"name":"host","value":"DESKTOP-ESU2KLG"},{"name":"thread","value":"26920-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.unit.settings.sampling_location_assessment.test_sampling_location_assessment"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"https://app.clickup.com/t/85zrjm4y7","url":"https://app.clickup.com/t/85zrjm4y7","type":"link"}],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["archive_assessment_attribute","unit","sampling_location_assessment"]},"source":"2dcecb18bad1b288.json","parameterValues":[]}