{"uid":"105763e11b9434ae","name":"Residue Type Active select have unit mg/sqcm","fullName":"tests.scenarios.offline_study.test_offline_studys.TestOfflineStudies#test_active_select_unit_mg_sqcm","historyId":"a6acb4618379218bb7ea1c0d06599f0b","time":{"start":1733114329235,"stop":1733114329822,"duration":587},"description":"This testcase test Api to test that when residue type select is Active then its unit should bemg/sqcm","descriptionHtml":"<p>This testcase test Api to test that when residue type select is Active then its unit should bemg/sqcm</p>\n","status":"broken","statusMessage":"KeyError: 'residue_mapping'","statusTrace":"self = <test_offline_studys.TestOfflineStudies object at 0x000001EDA26313D0>\n\n    @allure.title(\"Residue Type Active select have unit mg/sqcm\")\n    @allure.description(\"This testcase test Api to test that when residue type select is Active then its unit should be\"\n                        \"mg/sqcm\")\n    @allure.link(\"https://app.clickup.com/t/85zrvmx1e\")\n    @pytest.mark.formulation\n    @pytest.mark.active_select_unit_mg_sqcm\n    def test_active_select_unit_mg_sqcm(self):\n        global RESIDUE_MAPPING\n        data = {}\n    \n        update_data = {\"study_name\": \"Test Offline Study\", \"residue_type\": \"Active\", \"study_id\": None,\n                       self.intermediate_key: \"intermediate\"}\n        data.update({\"residue_type\": update_data[\"residue_type\"], \"study_id\": update_data[\"study_id\"],\n                     \"study_name\": update_data[\"study_name\"], \"inter_residue\": update_data[self.intermediate_key]})\n    \n        self.offline_studies.test_add_details_to_offline_study(data)\n    \n        target_residue = self.offline_studies.get_material_id_type(data)[\"material_name\"]\n        active_id = self.offline_studies.get_material_id_type(data)[\"material_id\"]\n        max_observe_size = unit_data.OFFLINE_STUDY[\"observe_value\"]\n    \n        update_data = {\"material_name\": target_residue, \"max_observe_size\": max_observe_size, \"residue_id\": active_id}\n    \n        data.update({\"material_name\": update_data[\"material_name\"], \"max_observe_size\": update_data[\"max_observe_size\"],\n                     \"residue_id\": update_data[\"residue_id\"]})\n    \n        self.offline_studies.offline_study_methods(data)\n>       hs_eq_mat_id = self.offline_studies.get_active_residue(data)[\"hs_eq_mat_id\"]\n\ntests\\scenarios\\offline_study\\test_offline_studys.py:222: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\ndata = {'inter_residue': 'intermediate', 'material_name': 'Amoxicillin', 'max_observe_size': 2, 'residue_id': '258bd148-17c9-4c97-a293-2b59ff50d284', ...}\n\n    @staticmethod\n    def get_active_residue(data):\n        active_residue = None\n        hs_eq_mat_id = None\n        if data is None:\n            for i in RESIDUE_MAPPING[\"result\"][\"materials\"]:\n                active_residue = i[\"id\"]\n            for i in RESIDUE_MAPPING[\"result\"][\"mappingData\"]:\n                for j in i[\"hsEqMatPrMappings\"]:\n                    hs_eq_mat_id = j[\"hsEqMatId\"]\n        else:\n>           for i in data[\"residue_mapping\"][\"result\"][\"materials\"]:\nE           KeyError: 'residue_mapping'\n\ntests\\unit\\offline_study\\test_offline_study.py:161: KeyError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"login","time":{"start":1733114328822,"stop":1733114329094,"duration":272},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"attachmentStep":false,"hasContent":false},{"name":"get_facility","time":{"start":1733114329094,"stop":1733114329235,"duration":141},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"shouldDisplayMessage":false,"stepsCount":0,"attachmentStep":false,"hasContent":false}],"afterStages":[],"labels":[{"name":"tag","value":"active_select_unit_mg_sqcm"},{"name":"tag","value":"formulation"},{"name":"tag","value":"update_offline_studies"},{"name":"parentSuite","value":"tests.scenarios.offline_study"},{"name":"suite","value":"test_offline_studys"},{"name":"subSuite","value":"TestOfflineStudies"},{"name":"host","value":"DESKTOP-ESU2KLG"},{"name":"thread","value":"12732-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.scenarios.offline_study.test_offline_studys"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[{"name":"https://app.clickup.com/t/85zrvmx1e","url":"https://app.clickup.com/t/85zrvmx1e","type":"link"}],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["update_offline_studies","formulation","active_select_unit_mg_sqcm"]},"source":"105763e11b9434ae.json","parameterValues":[]}